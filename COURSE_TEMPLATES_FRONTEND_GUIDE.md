# üìö –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞: –°–∏—Å—Ç–µ–º–∞ —à–∞–±–ª–æ–Ω–æ–≤ –∫—É—Ä—Å–æ–≤

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å **—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫—É—Ä—Å—ã (—à–∞–±–ª–æ–Ω—ã)** —Å –≥–æ—Ç–æ–≤—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ç–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤–æ –≤—Å–µ **–¥–æ—á–µ—Ä–Ω–∏–µ SubjectGroup'—ã** (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã).

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è:

- **Course (–ö—É—Ä—Å)** ‚Äî –±–∞–∑–æ–≤—ã–π –∫—É—Ä—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ 1 –∫–ª–∞—Å—Å"
- **Template CourseSection (–®–∞–±–ª–æ–Ω–Ω–∞—è —Å–µ–∫—Ü–∏—è)** ‚Äî —Å–µ–∫—Ü–∏—è –∫—É—Ä—Å–∞ —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º, –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ `Course`, –∞ –Ω–µ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–ª–∞—Å—Å—É
- **SubjectGroup (–ü—Ä–µ–¥–º–µ—Ç–Ω–∞—è –≥—Ä—É–ø–ø–∞)** ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫—É—Ä—Å–∞ –¥–ª—è –∫–ª–∞—Å—Å–∞ + —É—á–∏—Ç–µ–ª—è, –Ω–∞–ø—Ä–∏–º–µ—Ä "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ 1 –∫–ª–∞—Å—Å –¥–ª—è 1–ë"
- **Derived CourseSection (–î–æ—á–µ—Ä–Ω—è—è —Å–µ–∫—Ü–∏—è)** ‚Äî —Å–µ–∫—Ü–∏—è –≤ SubjectGroup, —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–∑ —à–∞–±–ª–æ–Ω–∞
- **Template Resource/Assignment** ‚Äî —Ä–µ—Å—É—Ä—Å/–∑–∞–¥–∞–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω–Ω–æ–π —Å–µ–∫—Ü–∏–∏
- **Derived Resource/Assignment** ‚Äî –∫–æ–ø–∏—è —Ä–µ—Å—É—Ä—Å–∞/–∑–∞–¥–∞–Ω–∏—è –≤ –¥–æ—á–µ—Ä–Ω–µ–π —Å–µ–∫—Ü–∏–∏

---

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫—É—Ä—Å–∞

–°–æ–∑–¥–∞–π –±–∞–∑–æ–≤—ã–π –∫—É—Ä—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —à–∞–±–ª–æ–Ω–æ–º:

```http
POST /api/courses/
Authorization: Bearer <superadmin_token>
Content-Type: application/json

{
  "course_code": "MATH1",
  "name": "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ 1 –∫–ª–∞—Å—Å",
  "description": "–ë–∞–∑–æ–≤—ã–π –∫—É—Ä—Å –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞",
  "grade": 1
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 1,
  "course_code": "MATH1",
  "name": "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ 1 –∫–ª–∞—Å—Å",
  "description": "–ë–∞–∑–æ–≤—ã–π –∫—É—Ä—Å –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞",
  "grade": 1
}
```

---

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Å–µ–∫—Ü–∏–π –¥–ª—è –∫—É—Ä—Å–∞

–°–æ–∑–¥–∞–π —Å–µ–∫—Ü–∏–∏ –∫—É—Ä—Å–∞ (—à–∞–±–ª–æ–Ω—ã). **–í–∞–∂–Ω–æ:** `subject_group` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `null`, –∞ `course` ‚Äî ID —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∫—É—Ä—Å–∞.

```http
POST /api/course-sections/
Authorization: Bearer <superadmin_token>
Content-Type: application/json

{
  "course": 1,
  "subject_group": null,
  "title": "–ù–µ–¥–µ–ª—è 1: –°–ª–æ–∂–µ–Ω–∏–µ –∏ –≤—ã—á–∏—Ç–∞–Ω–∏–µ",
  "position": 1,
  "start_date": "2024-09-01",
  "end_date": "2024-09-07",
  "is_general": false
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 10,
  "course": 1,
  "subject_group": null,
  "template_section": null,
  "title": "–ù–µ–¥–µ–ª—è 1: –°–ª–æ–∂–µ–Ω–∏–µ –∏ –≤—ã—á–∏—Ç–∞–Ω–∏–µ",
  "position": 1,
  "start_date": "2024-09-01",
  "end_date": "2024-09-07",
  "is_general": false,
  "resources": [],
  "assignments": []
}
```

**–°–æ–∑–¥–∞–π –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—Ü–∏–π:**
```http
POST /api/course-sections/
{
  "course": 1,
  "subject_group": null,
  "title": "–ù–µ–¥–µ–ª—è 2: –£–º–Ω–æ–∂–µ–Ω–∏–µ",
  "position": 2,
  "start_date": "2024-09-08",
  "end_date": "2024-09-14"
}
```

---

### –®–∞–≥ 3: –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ —à–∞–±–ª–æ–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏

–î–æ–±–∞–≤—å —Ñ–∞–π–ª—ã, —Å—Å—ã–ª–∫–∏, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ —à–∞–±–ª–æ–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏:

#### 3.1. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞

```http
POST /api/resources/
Authorization: Bearer <superadmin_token>
Content-Type: multipart/form-data

course_section: 10
type: file
title: –£—á–µ–±–Ω–∏–∫ –≥–ª–∞–≤–∞ 1.pdf
file: <binary_file_data>
```

#### 3.2. –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏

```http
POST /api/resources/create-directory-with-files/
Authorization: Bearer <superadmin_token>
Content-Type: multipart/form-data

course_section: 10
title: –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –Ω–µ–¥–µ–ª–∏ 1
files: <file1>, <file2>, <file3>
```

#### 3.3. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏

```http
POST /api/resources/
Authorization: Bearer <superadmin_token>
Content-Type: application/json

{
  "course_section": 10,
  "type": "link",
  "title": "–í–∏–¥–µ–æ—É—Ä–æ–∫: –°–ª–æ–∂–µ–Ω–∏–µ",
  "url": "https://youtube.com/watch?v=...",
  "description": "–û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω–∏–∫–æ–≤"
}
```

#### 3.4. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞

```http
POST /api/resources/
Authorization: Bearer <superadmin_token>
Content-Type: application/json

{
  "course_section": 10,
  "type": "text",
  "title": "–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏",
  "description": "–ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø—Ä–æ –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ"
}
```

---

### –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π –≤ —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Å–µ–∫—Ü–∏—è—Ö

–î–æ–±–∞–≤—å –∑–∞–¥–∞–Ω–∏—è –≤ —à–∞–±–ª–æ–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏:

```http
POST /api/assignments/
Authorization: Bearer <superadmin_token>
Content-Type: application/json

{
  "course_section": 10,
  "teacher": 5,
  "title": "–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ: –°–ª–æ–∂–µ–Ω–∏–µ –¥–æ 10",
  "description": "–†–µ—à–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞ —Å–ª–æ–∂–µ–Ω–∏–µ",
  "due_at": "2024-09-07T23:59:00Z",
  "max_grade": 100,
  "attachments": [
    {
      "type": "text",
      "title": "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏",
      "content": "–†–µ—à–∏—Ç–µ –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ 5",
      "position": 1
    },
    {
      "type": "file",
      "title": "–§–∞–π–ª —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏",
      "file_url": "https://example.com/examples.pdf",
      "position": 2
    }
  ]
}
```

---

### –®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ SubjectGroup –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞

#### 5.1. –°–æ–∑–¥–∞–π SubjectGroup –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞

```http
POST /api/subject-groups/
Authorization: Bearer <superadmin_token>
Content-Type: application/json

{
  "course": 1,
  "classroom": 3,
  "teacher": 5
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 20,
  "course": 1,
  "classroom": 3,
  "teacher": 5,
  "external_id": "..."
}
```

#### 5.2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π –∫–æ–Ω—Ç–µ–Ω—Ç –∏–∑ –∫—É—Ä—Å–∞ –≤ SubjectGroup

**–≠—Ç–æ –∫–ª—é—á–µ–≤–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç!** –û–Ω –∫–æ–ø–∏—Ä—É–µ—Ç –≤—Å–µ —à–∞–±–ª–æ–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏, —Ä–µ—Å—É—Ä—Å—ã –∏ –∑–∞–¥–∞–Ω–∏—è –≤–æ –≤—Å–µ SubjectGroup'—ã –¥–∞–Ω–Ω–æ–≥–æ –∫—É—Ä—Å–∞.

```http
POST /api/courses/1/sync-content/
Authorization: Bearer <superadmin_token>
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "detail": "Content synced to subject groups successfully."
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –î–ª—è –∫–∞–∂–¥–æ–π —à–∞–±–ª–æ–Ω–Ω–æ–π —Å–µ–∫—Ü–∏–∏ –∫—É—Ä—Å–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–æ—á–µ—Ä–Ω—è—è —Å–µ–∫—Ü–∏—è –≤ –∫–∞–∂–¥–æ–º SubjectGroup
- –í—Å–µ —Ä–µ—Å—É—Ä—Å—ã (–≤–∫–ª—é—á–∞—è –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏) –∫–æ–ø–∏—Ä—É—é—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ
- –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –∏ –∏—Ö –≤–ª–æ–∂–µ–Ω–∏—è –∫–æ–ø–∏—Ä—É—é—Ç—Å—è
- –ö–∞–∂–¥–∞—è –∫–æ–ø–∏—è –ø–æ–º–Ω–∏—Ç —Å–≤—è–∑—å —Å —à–∞–±–ª–æ–Ω–æ–º —á–µ—Ä–µ–∑ `template_section`, `template_resource`, `template_assignment`

---

### –®–∞–≥ 6: –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—á–µ—Ä–Ω–∏—Ö —Å–µ–∫—Ü–∏–π

–ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–µ–∫—Ü–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ SubjectGroup:

```http
GET /api/course-sections/?subject_group=20
Authorization: Bearer <token>
```

**–û—Ç–≤–µ—Ç:**
```json
[
  {
    "id": 30,
    "course": null,
    "subject_group": 20,
    "template_section": 10,
    "title": "–ù–µ–¥–µ–ª—è 1: –°–ª–æ–∂–µ–Ω–∏–µ –∏ –≤—ã—á–∏—Ç–∞–Ω–∏–µ",
    "position": 1,
    "resources": [
      {
        "id": 40,
        "template_resource": 15,
        "title": "–£—á–µ–±–Ω–∏–∫ –≥–ª–∞–≤–∞ 1.pdf",
        "type": "file",
        "is_unlinked_from_template": false,
        ...
      }
    ],
    "assignments": [
      {
        "id": 50,
        "template_assignment": 25,
        "title": "–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ: –°–ª–æ–∂–µ–Ω–∏–µ –¥–æ 10",
        "is_unlinked_from_template": false,
        ...
      }
    ]
  }
]
```

---

### –®–∞–≥ 7: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ —à–∞–±–ª–æ–Ω (–ø–æ–∑–∂–µ)

–ï—Å–ª–∏ –ø–æ–∑–∂–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã/–∑–∞–¥–∞–Ω–∏—è –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—É—Ä—Å:

1. –î–æ–±–∞–≤—å —Ä–µ—Å—É—Ä—Å—ã/–∑–∞–¥–∞–Ω–∏—è –≤ —à–∞–±–ª–æ–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ (–∫–∞–∫ –≤ —à–∞–≥–∞—Ö 3-4)
2. –°–Ω–æ–≤–∞ –≤—ã–∑–æ–≤–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é:

```http
POST /api/courses/1/sync-content/
Authorization: Bearer <superadmin_token>
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ù–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã/–∑–∞–¥–∞–Ω–∏—è –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤–æ –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ —Å–µ–∫—Ü–∏–∏
- –°—Ç–∞—Ä—ã–µ –∫–æ–ø–∏–∏ –Ω–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ `template_resource`/`template_assignment`)
- –ï—Å–ª–∏ —É—á–∏—Ç–µ–ª—å –æ—Ç–≤—è–∑–∞–ª —Ä–µ—Å—É—Ä—Å/–∑–∞–¥–∞–Ω–∏–µ (`is_unlinked_from_template=true`), –æ–Ω –Ω–µ —Ç—Ä–æ–≥–∞–µ—Ç—Å—è

---

### –®–∞–≥ 8: –û—Ç–≤—è–∑–∫–∞ —Ä–µ—Å—É—Ä—Å–∞/–∑–∞–¥–∞–Ω–∏—è (–¥–ª—è —É—á–∏—Ç–µ–ª—è)

–ï—Å–ª–∏ —É—á–∏—Ç–µ–ª—å —Ö–æ—á–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å —Ä–µ—Å—É—Ä—Å/–∑–∞–¥–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ —É —Å–µ–±—è (–Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—è —à–∞–±–ª–æ–Ω –∏ –¥—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã):

#### 8.1. –û—Ç–≤—è–∑–∞—Ç—å —Ä–µ—Å—É—Ä—Å

```http
POST /api/resources/40/unlink-from-template/
Authorization: Bearer <teacher_token>
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 40,
  "template_resource": 15,
  "is_unlinked_from_template": true,
  ...
}
```

**–ü–æ—Å–ª–µ –æ—Ç–≤—è–∑–∫–∏:**
- –†–µ—Å—É—Ä—Å –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –£—á–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å –µ–≥–æ —Ç–æ–ª—å–∫–æ —É —Å–µ–±—è
- –î—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã

#### 8.2. –û—Ç–≤—è–∑–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ

```http
POST /api/assignments/50/unlink-from-template/
Authorization: Bearer <teacher_token>
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 50,
  "template_assignment": 25,
  "is_unlinked_from_template": true,
  ...
}
```

---

## üîë –í–∞–∂–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ö—É—Ä—Å—ã

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∞–≤–∞ |
|-------|-----|----------|-------|
| `POST` | `/api/courses/` | –°–æ–∑–¥–∞—Ç—å –∫—É—Ä—Å | SuperAdmin |
| `GET` | `/api/courses/` | –°–ø–∏—Å–æ–∫ –∫—É—Ä—Å–æ–≤ | SuperAdmin |
| `GET` | `/api/courses/{id}/` | –î–µ—Ç–∞–ª–∏ –∫—É—Ä—Å–∞ | SuperAdmin |
| `POST` | `/api/courses/{id}/sync-content/` | **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç** | SuperAdmin |

### –°–µ–∫—Ü–∏–∏ –∫—É—Ä—Å–∞

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∞–≤–∞ |
|-------|-----|----------|-------|
| `POST` | `/api/course-sections/` | –°–æ–∑–¥–∞—Ç—å —Å–µ–∫—Ü–∏—é | RoleBased |
| `GET` | `/api/course-sections/?subject_group={id}` | –°–µ–∫—Ü–∏–∏ SubjectGroup | RoleBased |
| `GET` | `/api/course-sections/?course={id}` | –®–∞–±–ª–æ–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ –∫—É—Ä—Å–∞ | RoleBased |

**–í–∞–∂–Ω–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —à–∞–±–ª–æ–Ω–Ω–æ–π —Å–µ–∫—Ü–∏–∏:**
```json
{
  "course": 1,           // ID –∫—É—Ä—Å–∞
  "subject_group": null, // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û null –¥–ª—è —à–∞–±–ª–æ–Ω–∞!
  "title": "...",
  ...
}
```

**–í–∞–∂–Ω–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ã—á–Ω–æ–π —Å–µ–∫—Ü–∏–∏:**
```json
{
  "course": null,        // null –¥–ª—è –æ–±—ã—á–Ω–æ–π —Å–µ–∫—Ü–∏–∏
  "subject_group": 20,   // ID SubjectGroup
  "title": "...",
  ...
}
```

### –†–µ—Å—É—Ä—Å—ã

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∞–≤–∞ |
|-------|-----|----------|-------|
| `POST` | `/api/resources/` | –°–æ–∑–¥–∞—Ç—å —Ä–µ—Å—É—Ä—Å | RoleBased |
| `GET` | `/api/resources/?course_section={id}` | –†–µ—Å—É—Ä—Å—ã —Å–µ–∫—Ü–∏–∏ | RoleBased |
| `POST` | `/api/resources/{id}/unlink-from-template/` | **–û—Ç–≤—è–∑–∞—Ç—å –æ—Ç —à–∞–±–ª–æ–Ω–∞** | RoleBased |

### –ó–∞–¥–∞–Ω–∏—è

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∞–≤–∞ |
|-------|-----|----------|-------|
| `POST` | `/api/assignments/` | –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ | RoleBased |
| `GET` | `/api/assignments/?course_section={id}` | –ó–∞–¥–∞–Ω–∏—è —Å–µ–∫—Ü–∏–∏ | RoleBased |
| `POST` | `/api/assignments/{id}/unlink-from-template/` | **–û—Ç–≤—è–∑–∞—Ç—å –æ—Ç —à–∞–±–ª–æ–Ω–∞** | RoleBased |

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä: —Å–æ–∑–¥–∞–Ω–∏–µ –∫—É—Ä—Å–∞ —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

```javascript
// 1. –°–æ–∑–¥–∞—Ç—å –∫—É—Ä—Å
const course = await fetch('/api/courses/', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    course_code: 'MATH1',
    name: '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ 1 –∫–ª–∞—Å—Å',
    grade: 1
  })
}).then(r => r.json());

// 2. –°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω–Ω—É—é —Å–µ–∫—Ü–∏—é
const section = await fetch('/api/course-sections/', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    course: course.id,
    subject_group: null,  // –í–∞–∂–Ω–æ!
    title: '–ù–µ–¥–µ–ª—è 1',
    position: 1
  })
}).then(r => r.json());

// 3. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª –≤ —Å–µ–∫—Ü–∏—é
const formData = new FormData();
formData.append('course_section', section.id);
formData.append('type', 'file');
formData.append('title', '–£—á–µ–±–Ω–∏–∫.pdf');
formData.append('file', fileBlob);

const resource = await fetch('/api/resources/', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`
  },
  body: formData
}).then(r => r.json());

// 4. –°–æ–∑–¥–∞—Ç—å SubjectGroup
const subjectGroup = await fetch('/api/subject-groups/', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    course: course.id,
    classroom: 3,
    teacher: 5
  })
}).then(r => r.json());

// 5. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç
await fetch(`/api/courses/${course.id}/sync-content/`, {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`
  }
});

// 6. –ü–æ–ª—É—á–∏—Ç—å –¥–æ—á–µ—Ä–Ω–∏–µ —Å–µ–∫—Ü–∏–∏
const derivedSections = await fetch(`/api/course-sections/?subject_group=${subjectGroup.id}`, {
  headers: {
    'Authorization': `Bearer ${token}`
  }
}).then(r => r.json());
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –†–∞–∑–ª–∏—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–Ω—ã—Ö –∏ –¥–æ—á–µ—Ä–Ω–∏—Ö —Å–µ–∫—Ü–∏–π

- **–®–∞–±–ª–æ–Ω–Ω–∞—è —Å–µ–∫—Ü–∏—è:** `course` –∑–∞–ø–æ–ª–Ω–µ–Ω–æ, `subject_group = null`
- **–î–æ—á–µ—Ä–Ω—è—è —Å–µ–∫—Ü–∏—è:** `subject_group` –∑–∞–ø–æ–ª–Ω–µ–Ω–æ, `course = null`, –º–æ–∂–µ—Ç –∏–º–µ—Ç—å `template_section`

### 2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è **–Ω–µ —É–¥–∞–ª—è–µ—Ç** —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è **–¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ** —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ —à–∞–±–ª–æ–Ω–∞
- –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–ø–æ `template_resource`/`template_assignment`), –æ–Ω –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è

### 3. –û—Ç–≤—è–∑–∫–∞ –æ—Ç —à–∞–±–ª–æ–Ω–∞

- –ü–æ—Å–ª–µ –æ—Ç–≤—è–∑–∫–∏ (`is_unlinked_from_template = true`) —ç–ª–µ–º–µ–Ω—Ç –±–æ–ª—å—à–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è
- –£—á–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å –æ—Ç–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- –û—Ç–≤—è–∑–∫–∞ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–∞ (–Ω–æ –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤–µ—Ä–Ω—É—Ç—å `is_unlinked_from_template = false` —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É)

### 4. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

- **SuperAdmin** ‚Äî –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫—É—Ä—Å—ã, —à–∞–±–ª–æ–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å
- **Teacher** ‚Äî –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Å–µ–∫—Ü–∏—è–º–∏ —Å–≤–æ–µ–≥–æ SubjectGroup, –æ—Ç–≤—è–∑—ã–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã/–∑–∞–¥–∞–Ω–∏—è
- **Student** ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å–≤–æ–µ–≥–æ –∫–ª–∞—Å—Å–∞

### 5. –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

---

## üé® UI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –∞–¥–º–∏–Ω–∞ (—Å–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤):

1. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ö—É—Ä—Å—ã"** ‚Üí –∫–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –∫—É—Ä—Å"
2. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫—É—Ä—Å–∞** ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–®–∞–±–ª–æ–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏"
3. **–í –∫–∞–∂–¥–æ–π —Å–µ–∫—Ü–∏–∏** ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤, —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π
4. **–ö–Ω–æ–ø–∫–∞ "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å –∫–ª–∞—Å—Å–∞–º–∏"** ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç `/sync-content/`

### –î–ª—è —É—á–∏—Ç–µ–ª—è:

1. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ SubjectGroup** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–µ —Å–µ–∫—Ü–∏–∏
2. **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, –µ—Å–ª–∏ —Ä–µ—Å—É—Ä—Å/–∑–∞–¥–∞–Ω–∏–µ –∏–∑ —à–∞–±–ª–æ–Ω–∞ (`template_resource`/`template_assignment` –Ω–µ null)
3. **–ö–Ω–æ–ø–∫–∞ "–û—Ç–≤—è–∑–∞—Ç—å"** ‚Üí –¥–ª—è —Ä–µ—Å—É—Ä—Å–æ–≤/–∑–∞–¥–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —É—á–∏—Ç–µ–ª—å —Ö–æ—á–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ —É —Å–µ–±—è

### –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:

- üîó –ò–∫–æ–Ω–∫–∞ "–°–≤—è–∑–∞–Ω–æ —Å —à–∞–±–ª–æ–Ω–æ–º" ‚Äî –µ—Å–ª–∏ `template_resource`/`template_assignment` –Ω–µ null –∏ `is_unlinked_from_template = false`
- ‚úÇÔ∏è –ò–∫–æ–Ω–∫–∞ "–û—Ç–≤—è–∑–∞–Ω–æ" ‚Äî –µ—Å–ª–∏ `is_unlinked_from_template = true`
- üîÑ –ö–Ω–æ–ø–∫–∞ "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å" ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è SuperAdmin –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫—É—Ä—Å–∞

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã –ø–æ API, –ø—Ä–æ–≤–µ—Ä—å:
- Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: `/api/docs/`
- –°—Ö–µ–º—É API: `/api/schema/`

---

**–£–¥–∞—á–∏ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π! üöÄ**

